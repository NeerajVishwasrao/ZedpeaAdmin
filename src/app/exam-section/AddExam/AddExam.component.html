<nav class="navbar bg-body-secondary">
  <div class="container-fluid justify-content-start">
    <div class="d-none d-lg-flex">
      <h2 class="navbar-brand"> üìö </h2>
    </div>

    <!-- Memu Buttons  -->
    <app-menu-buttons [Show_btn_AddExam]="true"></app-menu-buttons>

    <div class="ms-auto">


      <!-- Buttons visible on larger screens -->

      <div class="d-none d-lg-flex">

        <div class="btn-group">

          <h2 class="navbar-brand">üîç</h2>
        </div>



        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01"
              style="width: 60px; height: 30px; font-size: 12px;">Std</label>
            <select class="form-select" id="inputGroupSelect01" (change)="filterQuestions()" [(ngModel)]="searchtext1"
              style="width: 100px; height: 30px; font-size: 12px;">
              <option value="" selected>All</option>
              <option value="k1">k1</option>
              <option value="k2">k2</option>
              <option value="1">First</option>
              <option value="2">Second</option>
            </select>
          </div>
        </div>


        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect02"
              style="width: 60px; height: 30px; font-size: 12px;">Sub</label>
            <select class="form-select" id="inputGroupSelect02" (change)="filterQuestions()" [(ngModel)]="searchtext2"
              style="width: 100px; height: 30px; font-size: 12px;">
              <option value="" selected>All</option>
              <option value="eng">English</option>
              <option value="math">Math</option>
              <option value="marathi">Marathi</option>
              <option value="evs">EVS</option>
            </select>
          </div>
        </div>

        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect03"
              style="width: 60px; height: 30px; font-size: 12px;">Type</label>
            <select class="form-select" id="inputGroupSelect03" (change)="filterQuestions()" [(ngModel)]="searchtext3"
              style="width: 100px; height: 30px; font-size: 12px;">
              <option value="" selected>All</option>
              <option value="mr01">One</option>
              <option value="mr02">Two</option>
              <option value="mr03">Three</option>
              <option value="mr04">Four</option>
              <option value="mr05">Five</option>
            </select>
          </div>
        </div>
      </div>



      <!-- Dropdown visible on smaller screens -->
      <div class="dropdown d-lg-none">
        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01"
              style="width: 50px; height: 30px; font-size: 12px;">Std</label>
            <select class="form-select" id="inputGroupSelect01" (change)="filterQuestions()" [(ngModel)]="searchtext1"
              style="width: 120px; height: 30px; font-size: 12px;">
              <option value="" selected>üîç All</option>
              <option value="K1">LKG</option>
              <option value="ukg">UKG</option>
              <option value="1">First</option>
              <option value="2">Second</option>
            </select>
          </div>
        </div>


        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect02"
              style="width: 50px; height: 30px; font-size: 12px;">Sub</label>
            <select class="form-select" id="inputGroupSelect02" (change)="filterQuestions()" [(ngModel)]="searchtext2"
              style="width: 120px; height: 30px; font-size: 12px;">
              <option value="" selected>üîç All</option>
              <option value="eng">English</option>
              <option value="math">Math</option>
              <option value="Marathi">Marathi</option>
              <option value="evs">EVS</option>
            </select>
          </div>
        </div>

        <div class="btn-group">
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect03"
              style="width: 50px; height: 30px; font-size: 12px;">Type</label>
            <select class="form-select" id="inputGroupSelect03" (change)="filterQuestions()" [(ngModel)]="searchtext3"
              style="width: 120px; height: 30px; font-size: 12px;">
              <option value="" selected>üîç All</option>
              <option value="mr01">One</option>
              <option value="m102">Two</option>
              <option value="mr03">Three</option>
              <option value="mr04">Four</option>
              <option value="mr05">Five</option>
            </select>
          </div>
        </div>

      </div>




    </div>
  </div>
</nav>



<div *ngIf="saved;">
  <div class="popup-overlay" id="popupOverlay">
    <div class="popup-content">
      <strong>Exam Saved Successfully!</strong>
      <button class="btn btn-primary close-btn" (click)="toggleAll('toggle secondary poppup')">Close</button>
    </div>
  </div>
</div>
<br>
<div class="d-none d-lg-flex">

  <div class="alert alert-warning alert-dismissible fade show  " *ngIf="isScrolledDown"
    style="z-index: 1000; position: fixed; right: 0; top: 1; width: 15%; " role="alert">


    <strong>{{itterator2}} / 10 </strong>Questions added !
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>


  <div *ngIf="showQNO" class="alert alert-success p-2" style="width: 100%;">
    <button type="button" [ngClass]="isadded1 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">1</button>
    <button type="button" [ngClass]="isadded2 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">2</button>
    <button type="button" [ngClass]="isadded3 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">3</button>
    <button type="button" [ngClass]="isadded4 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">4</button>
    <button type="button" [ngClass]="isadded5 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">5</button>
    <button type="button" [ngClass]="isadded6 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">6</button>
    <button type="button" [ngClass]="isadded7 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">7</button>
    <button type="button" [ngClass]="isadded8 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">8</button>
    <button type="button" [ngClass]="isadded9 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">9</button>
    <button type="button" [ngClass]="isadded10 ? 'btn btn-secondary me-3' : 'btn btn-light me-3'">10</button>
  </div>


</div>


<div class="dropdown d-lg-none">
  <div *ngIf="showQNO" class="alert alert-success p-0">
    <button type="button" [ngClass]="isadded1 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">1</button>
    <button type="button" [ngClass]="isadded2 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">2</button>
    <button type="button" [ngClass]="isadded3 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">3</button>
    <button type="button" [ngClass]="isadded4 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">4</button>
    <button type="button" [ngClass]="isadded5 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">5</button>
    <button type="button" [ngClass]="isadded6 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">6</button>
    <button type="button" [ngClass]="isadded7 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">7</button>
    <button type="button" [ngClass]="isadded8 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">8</button>
    <button type="button" [ngClass]="isadded9 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">9</button>
    <button type="button" [ngClass]="isadded10 ? 'btn btn-secondary btn-sm' : 'btn btn-light btn-sm'">10</button>
  </div>
</div>




<h4 style="text-align: center;">Question Set</h4>


<div class="row">
  <div class="questions-section" style="background-color: #f5f3f1; padding: 20px;">
    <div class="questions-container" style="justify-content: center; ">

      <div class="card" *ngFor="let Qcontainer of filteredQuestions">
        <div class="position-relative">
          <img src="/assets/anyquestions.png" class="card-img-top" alt="...">
          <div class="qnumber">
            {{Qcontainer.qnumber}}
          </div>
        </div>
        <div class="card-body">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <h5 class="card-title" style="margin: 0;">{{Qcontainer.title|titlecase}} ({{Qcontainer.grade}})</h5>
            <span>{{Qcontainer.qsubject|titlecase}}</span>
          </div>

          <div class="card-text">

            <div class="container text-center">
              <div class="row g-2">
                <div class="col-12">
                  <div class="p-1">{{Qcontainer.topic|titlecase}}</div>
                </div>
                <div class="col-12">
                  <div class="p-1">{{Qcontainer.qdesc|titlecase}}</div>
                </div>
              </div>
            </div>
          </div>
          <button id="{{Qcontainer.qnumber}}" class="btn mybutton" type="button"
            (click)="Add_this_Q(Qcontainer.qnumber)">
            Add <i class="bi bi-arrow-up-square"></i>
          </button>
        </div>
      </div>


      <!-- loader -->
      <div *ngIf="isLoaderActive==true; else elseBlock" style="display: flex; justify-content: center;  ">

        <app-loader></app-loader>

      </div>

      <!-- This content is displayed if the condition is false -->
      <ng-template #elseBlock>
        <div *ngIf="filteredQuestions.length==0">
          <img src="/assets/nocontent.png" class="card-img" alt="...">
        </div>

      </ng-template>


    </div>
  </div>

</div>




<div class="modal fade" id="exampleModal" #AddExamForm tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Test</h1>
        <button type="button" (click)="toggleAll('not')" class="btn-close" data-bs-dismiss="modal"
          aria-label="Close"></button>
      </div>
      <div class="modal-body">


        <form [formGroup]="QadditionAdditionForm">

          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Test name:</label>
            <input type="text" class="form-control" id="recipient-name" formControlName="examname">
            <span class="text-danger"
              *ngIf="QadditionAdditionForm.controls['examname'].touched && QadditionAdditionForm.controls['examname'].errors?.['required']">
              {{ConstantDB.VALIDATION_MSG.THIS_IS_REQ}}
            </span>
          </div>

          <div class="mb-3">
            <label for="Grade-text" class="col-form-label">Grade:</label>
            <select class="form-control" id="select-grade" formControlName="grade">
              <option>K1</option>
              <option>K2</option>
              <option>STD1</option>
              <option>STD2</option>
            </select>
            <span class="text-danger"
              *ngIf="QadditionAdditionForm.controls['grade'].touched && QadditionAdditionForm.controls['grade'].errors?.['required'] ">
              {{ConstantDB.VALIDATION_MSG.THIS_IS_REQ}}
            </span>
          </div>

          <div class="mb-3">
            <label for="message-text" class="col-form-label">Discription:</label>

            <textarea class="form-control" id="message-text" formControlName="discreption"></textarea>
            <span style="color: red;"
              *ngIf="QadditionAdditionForm.controls['discreption'].touched && QadditionAdditionForm.controls['discreption'].errors?.['maxlength']">
              {{ConstantDB.VALIDATION_MSG.MAX_DESC_LENGTH}}
            </span>
          </div>

        </form>



      </div>
      <div class="modal-footer">
        <span (click)="cheakAllCredentials()">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal"
            [disabled]="QadditionAdditionForm.invalid">Save
            Test</button>
        </span>
        <button type="button" (click)="toggleAll('not')" class="btn btn-danger" data-bs-dismiss="modal">Close</button>

      </div>
    </div>
    <span class="text-danger"
      *ngIf="QadditionAdditionForm.invalid&&QadditionAdditionForm.touched"><b>{{ConstantDB.VALIDATION_MSG.FILL_REQ_DATA}}</b>
    </span>

  </div>

</div>